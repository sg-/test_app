#include "mbed.h"
#include "stdio.h"
#include "string.h"

typedef enum hex_parse_status_t hex_parse_status_t;
enum hex_parse_status_t {
    HEX_PARSE_OK = 0,
    HEX_PARSE_EOF,
    HEX_PARSE_UNALIGNED,
    HEX_PARSE_LINE_OVERRUN,
    HEX_PARSE_CKSUM_FAIL
};

// logic - Every buf 512 bytes
//  - Build and return structure
//  - partial structure needs to be persistent (2 of struct)
//  - line size doesnt matter
//  - always write decoded data to RAM

typedef enum hex_record_t hex_record_t;
enum hex_record_t {
    DATA_RECORD = 0,
    EOF_RECORD = 1,
    EXT_SEG_ADDR_RECORD = 2,
    START_SEG_ADDR_RECORD = 3,
    EXT_LINEAR_ADDR_RECORD = 4,
    START_LINEAR_ADDR_RECORD = 5
};
    

typedef union hex_line_t hex_line_t;
union __attribute__((packed)) hex_line_t {
    uint8_t buf[0x25];
    struct __attribute__((packed)) {
        uint8_t  byte_count;
        uint16_t address;
        uint8_t  record_type;
        uint8_t  data[0x20];
        uint8_t  checksum;
    };
};

/** Swap 16bit value - let compiler figure out the best way
 *  @param val a variable of size uint16_t to be swapped
 *  @return the swapped value
 */
static uint16_t swap16(uint16_t a)
{
    return ((a & 0x00ff) << 8) | ((a & 0xff00) >> 8);
}

/** Converts a character representation of a hex to real value.
 *   @param c is the hex value in char format
 *   @return the value of the hex
 */
static uint8_t ctoh(char c)
{
    return (c & 0x10) ? /*0-9*/ c & 0xf : /*A-F, a-f*/ (c & 0xf) + 9;
}

/** Calculate checksum on a hex record
 *   @param data is the line of hex record
 *   @param size is the length of the data array
 *   @return 1 if the data provided is a valid hex record otherwise 0
 */
static uint8_t validate_checksum(hex_line_t *record)
{
    uint8_t i = 0, result = 0;
    uint8_t test1, test2;
    for ( ; i < (record->byte_count+4); i++) {
        result += record->buf[i];
    }
    test1 = (~result)+1;
    test2 = record->buf[record->byte_count+4];
    return (test1 == test2);
    // record length unknown. checksum will always be at location byte_count + 4
    //return (record->buf[record->byte_count+4] == (uint8_t)(~result)+1);
}

void reset_hex_parser(void)
{

}

// still need to test need to complete a few states (using codepad.org)
hex_parse_status_t parse_hex_blob(uint8_t *hex_buf, uint32_t hex_buf_size, uint8_t *bin_buf, uint32_t bin_buf_size, uint32_t *bin_buf_address, uint32_t *bin_buf_num_bytes)
{
    static hex_line_t line = {0}, shadow_line = {0};
    static uint8_t low_nibble = 0, idx = 0, record_processed = 0;
    static uint32_t last_known_address = 0;
    static uint8_t unload_unaligned_record = 0;
    uint8_t *end = hex_buf + hex_buf_size;
    // reset the amount of data that is being return'd
    *bin_buf_num_bytes = 0;

    // we had an exit state when the address was unaligned. Need to pop in the buffer
    //  before decoding anthing else since it was already decoded. Partially recieved 
    //  records are resume since the missing data hadn't yet been sent from the host
    if (unload_unaligned_record) {
        // need some help...
        unload_unaligned_record = 0;
        // move from line buffer back to input buffer
        memcpy((uint8_t *)bin_buf, (uint8_t *)shadow_line.data, shadow_line.byte_count);
        bin_buf += shadow_line.byte_count;
        bin_buf_num_bytes += shadow_line.byte_count;
        // this stores the last known start address of decoded data
        last_known_address = ((last_known_address & 0xffff0000) | shadow_line.address) + shadow_line.byte_count;
    }
    
    while (hex_buf != end) {
        switch ((uint8_t)(*hex_buf)) {
            // junk we dont care about could also just run the validate_checksum on &line
            case '\r':
            case '\n':
                // we've hit the end of an ascii line
                if (validate_checksum(&line) && !record_processed) {
                    record_processed = 1;
                    // address byteswap...
                    line.address = swap16(line.address);
                    switch (line.record_type) {
                        case DATA_RECORD:
                            // verify this is a continous block of memory or need to exit and dump
                            if (((last_known_address & 0xffff0000) | line.address) > (last_known_address + shadow_line.byte_count)) {
                                // keeping a record of the last hex record
                                memcpy(shadow_line.buf, line.buf, sizeof(hex_line_t));
                                *bin_buf_address = last_known_address - (uint32_t)(*bin_buf_num_bytes);
                                unload_unaligned_record = 1;
                                return HEX_PARSE_UNALIGNED;
                            }
                        
                            // keeping a record of the last hex record
                            memcpy(shadow_line.buf, line.buf, sizeof(hex_line_t));
                            // move from line buffer back to input buffer
                            memcpy((uint8_t *)bin_buf, (uint8_t *)line.data, line.byte_count);
                            bin_buf += line.byte_count;
                            *bin_buf_num_bytes = (uint32_t)(*bin_buf_num_bytes) + line.byte_count;
                            // this stores the last known start address of decoded data
                            last_known_address = ((last_known_address & 0xffff0000) | line.address) + line.byte_count;
                            break;
                        
                        case EOF_RECORD:
                            // fill in all FF here and force a return (or break from this logic)
                            memset(bin_buf, 0xff, (bin_buf_size - (uint32_t)(*bin_buf_num_bytes)));
                            // figure the start address before returning    
                            *bin_buf_address = last_known_address - (uint32_t)(*bin_buf_num_bytes);
                            *bin_buf_num_bytes = bin_buf_size;
                            return HEX_PARSE_EOF;
                        
                        case EXT_LINEAR_ADDR_RECORD:
                            // update the address msb's
                            last_known_address = (last_known_address & 0x0000ffff) | (line.data[0] << 24) | (line.data[1] << 16);
                            break;
                        
                        default:
                            break;
                    }
                } else {
                    return HEX_PARSE_CKSUM_FAIL;
                }
                break;
        
            // found start of a new record. reset state variables
            case ':':
                memset(line.buf, 0, sizeof(hex_line_t));
                low_nibble = 0;
                idx = 0;
                record_processed = 0;
                break;
            
            // decoding lines
            default:
                if (low_nibble) {
                    line.buf[idx] |= ctoh(*hex_buf) & 0xf;
                    idx++;
                }
                else {
                    if (idx < sizeof(hex_line_t)) {
                        line.buf[idx] = ctoh(*hex_buf) << 4;
                    }
                }
                low_nibble = !low_nibble;
                break;
        }
        hex_buf++;
    }
    
    memset(bin_buf, 0xff, (bin_buf_size - (uint32_t)(*bin_buf_num_bytes)));
    // figure the start address for the buffer before returning
    *bin_buf_address = last_known_address - (uint32_t)(*bin_buf_num_bytes);
    return HEX_PARSE_OK;
}

uint8_t const hex_file[] = ":020000040000FA"
":1000000000400020090300001B0300001D03000046"
":1000100000000000000000000000000000000000E0"
":100020000000000000000000000000001F030000AE"
":100030000000000000000000210300002303000076"
":100040002503000025030000511D000025030000CA"
":100050002503000000000000250300002503000028"
":1000600025030000250300002503000025030000F0"
":1000700025030000250300002503000025030000E0"
":1000800025030000F91B00002503000025030000E4"
":10009000A91C000025030000250300002503000023"
":1000A0002503000025030000000000000000000000"
":1000B0000000000000000000000000000000000040"
":1000C00000F002F800F05CF80CA030C808382418E2"
":1000D0002D18A246671EAB4654465D46AC4201D180"
":1000E00000F04EF87E460F3E0FCCB6460126334256"
":1000F00000D0FB1AA246AB46334318471C3200001F"
":100100003C320000103A02D378C878C1FAD85207BE"
":1001100001D330C830C101D504680C6070470000BD"
":100120000023002400250026103A01D378C1FBD813"
":10013000520700D330C100D50B60704710B5642959"
":1001400002D100F0EFF910BD732902D100F043FE97"
":1001500010BD002010BD1FB5C046C04600980199D3"
":1001600000F0D3FE01F0E2FB04000020002102F0C9"
":1001700049FF401C606001F0E7F800F035FD1FBD4D"
":1001800001F034FF1146FFF7E6FF01F02DFD02F00C"
":1001900027FA0000401E00BF00BF00BF00BF00BF25"
":1001A00000BF00BF00BF00BF00BF00BF00BFF1D154"
":1001B0007047000070B5404D2E46304601F0E8FD16"
":1001C000002801D1012000E00020044600BF2146A4"
":1001D000284600F059F800BF00BF70BD96B006ACCD"
":1001E000204601F019FE04463448002120602046D4"
":1001F000203001F034FE0446203C03A801F04FFEFD"
":1002000006AC2F4D7F20C00502902E49029802F0C7"
":100210000FFF019000F0FAFC06460F4629462046E3"
":10022000203001F018FE32463B46204601F043FEE6"
":1002300000BF00BF03A801F017FE13E002F0A0FB0F"
":100240001D4801F0A5FD002801D01FA000E01FA05F"
":10025000044603A801F013FE0546224629461CA0C9"
":1002600000F002F9EAE710B500221221124801F06D"
":10027000B5FD002213211B4801F0B0FD0022122120"
":10028000194801F0ABFD10BD70B504460D4600BF26"
":1002900000202056401C04D12422144914A002F04E"
":1002A00040FA00BF002D03D0E1686068086002E0FA"
":1002B00021696068086070BDF80000200C33000000"
":1002C000B5010000002474496F6E00006F6666007F"
":1002D000253038643A204C45442069732025730D3D"
":1002E0000A0000001001002028010020E03000007A"
":1002F0006F626A2D3E70696E20213D202850696E24"
":100300004E616D65294E4300074802680F210A437C"
":1003100002600648804706480047FEE7FEE7FEE722"
":10032000FEE7FEE7FEE7000024050040B11C0000E8"
":10033000C10000004343514330B55C18010C130C5D"
":100340000D4692B25D4380B251432C190546554388"
":100350000A0C09044D1962415843010C000440196C"
":10036000514130BDFEB5054610460C46184373D0CA"
":10037000AE468C460020AD1A01469C4167D36646C6"
":10038000002701243D46B61A9D4102D313463A4642"
":100390002124654676462F04360C3E432D0CB61AB2"
":1003A0009D4104D3150C1B042B43120410346546E5"
":1003B00076462F06360A3E432D0AB61A9D4104D3CF"
":1003C000150E1B022B4312020834654676462F0792"
":1003D00036093E432D09B61A9D4104D3150F1B0162"
":1003E0002B431201241D65467646AF07B6083E43EF"
":1003F000AD08B61A9D4104D3950F9B002B43920084"
":10040000A41C65467646EF0776083E436D08B61A8B"
":100410009D411AD392185B41641C16E00018764681"
":1004200065464941B71A9D410191009009D3604644"
":10043000B11A98418E468446009801990025401CC7"
":100440006941DD0752082A435B08641EE6D57246FF"
":10045000634603B0F0BDFFE700200146C046C0463A"
":100460002A462346F5E700000FB4054910B503AA54"
":10047000029800F0B5FC10BC08BC04B0184700009E"
":10048000EC02002070B5044685690068C10601D5FC"
":10049000302600E02026C00707D070BD62683046D5"
":1004A000A1689047206A401C20626D1EF6D570BD81"
":1004B00070B5044685690078C00707D170BD6268D1"
":1004C000A16820209047206A401C20626D1EF6D54E"
":1004D00070BD70B50C460546012A05D02878800607"
":1004E00000D5EA69002302E0012305E05B1C93428A"
":1004F00002D2E05C0028F9D1A869E618C01AA86108"
":10050000286AC01828622846FFF7BCFF04E06A6822"
":100510002078A968641C9047B442F8D32846FFF7B6"
":10052000C7FF70BDF7B5002575291068009914A69E"
":1005300011D0C046C046002802DA404211A608E0A9"
":10054000009909688A0701D50FA602E0490704D57A"
":100550000EA6012501E0C046C046009F00242437B6"
":1005600004E000F0A1FC30313955641C0028F8D1BA"
":100570002B4632462146009800F0C2FBFEBD00002B"
":10058000000000002D0000002B00000020000000F3"
":10059000F3B50446002081B020622046E168884718"
":1005A00000287DD0252802D06268A16883E0454FED"
":1005B00000257F442046E16888472028064608DB5E"
":1005C000312E06D2B81920380078002801D0054312"
":1005D000F0E7A80701D5042085430020E061074625"
":1005E000A0612A2E0AD0304601F008FD002827D04D"
":1005F000303EB80000190090866119E00298BA00F8"
":10060000121902C8916102902046E1688847012FC3"
":10061000064617D1E06900281FDA202085431CE038"
":1006200000980A2180694843009980193038886110"
":100630002046E1688847064601F0E0FC0028EFD13B"
":10064000012F0AD02E2E08D12046E16888470646A1"
":10065000202005437F1C022FC3DBA069002803DA9A"
":100660004042A06101200543E80701D010208543E6"
":10067000002E24D030464138192803D80120C0026A"
":1006800005432036204625603146029A1546FFF77D"
":1006900055FD00280CD0012807D0ED1DE80800E02A"
":1006A0000DE0C0000830029077E72D1D029574E739"
":1006B00062683046A1689047206A401C6CE7206A57"
":1006C000FEBD0000262D00000FB400B58DB010A9AE"
":1006D00009900B900020C04300910A9000200C90DC"
":1006E000074878440690074878446A4607900F996F"
":1006F00009A800F09FFB0DB008BC04B0184700002B"
":10070000730700008D070000FFB51D460027FF435B"
":1007100083B05C68002001909E68A96904987F1CE2"
":1007200088470090296A88470028F6D10098401C25"
":100730000CD0032040028443002E19DD600614D53E"
":1007400000982B2809D02D280FD103E00020C043AA"
":1007500007B0F0BD012080020443A96904987F1C02"
":100760008847761E002E009002DD0098302803D0C6"
":100770000598002825D035E00120A96940020443EE"
":10078000761E04987F1C8847002E009003DD782891"
":1007900005D0582803D00598002810D022E00598ED"
":1007A000002801D010281DD10120A96940028443EE"
":1007B000761E04987F1C88470090102002E00820D5"
":1007C00000E00A2005900DE00121059A49020C4342"
":1007D0000199761E514308180190A96904987F1C5D"
":1007E00088470090002E05DD0599009800F00CFB6D"
":1007F0000028E9DAE96904988847A00502D40120B5"
":10080000C043A5E7E00722D1600611D56005019835"
":1008100000D5404229680A1D2A600968220501D5D1"
":10082000087014E0220701D5088010E008600EE08F"
":100830002868011D29600068210502D50199017011"
":1008400005E02107019901D5018000E001603846EB"
":100850007EE7000030B5441C03E00178401C00290D"
":100860000DD08107F9D10B4BDD0104C8D11A91439A"
":100870002940FAD0001B0A0603D0C01E30BD001B61"
":1008800030BD0A0401D0801E30BD0902FCD0401EDC"
":1008900030BD0000010101010346F0B50B439B0789"
":1008A0002DD1244DEF01042A29D308C810C9121FE5"
":1008B0005E1B9E433E4017D0D8B2E1B2401A3106CB"
":1008C000014310D198B2A1B2401A310401430AD1B8"
":1008D00018022102000A090A401A3102014302D11A"
":1008E000180E210E401AF0BDA342DCD018BA21BA6E"
":1008F000884201D90120F0BD0020C043F0BD002A8C"
":1009000001D10020F0BD03780C78401C491C002B5D"
":100910000DD0A3420BD1521E09D003780C78401C95"
":10092000491C002B03D0A34201D1521EEBD1181B4E"
":10093000F0BD00000101010101E004C0091F04290C"
":10094000FBD28B0701D50280801CC90700D0027042"
":10095000704700290BD0C30702D00270401C491E0B"
":10096000022904D3830702D50280801C891EE3E795"
":100970000022EEE70022DFE7024670B50A43920745"
":100980002AD11E4DEE0104C808C9541B94433440BB"
":1009900017D0D0B2D9B2401A2106014310D190B27B"
":1009A00099B2401A210401430AD110021902000A27"
":1009B000090A401A2102014302D1100E190E401AF1"
":1009C00070BD9A42DFD010BA19BA884201D901200D"
":1009D00070BD0020C04370BD02780B78401C491CDC"
":1009E000002A09D09A4207D102780B78401C491C92"
":1009F000002A01D09A42EFD0D01A70BD0101010146"
":100A0000002203098B4273D3030A8B4258D3030B92"
":100A10008B423CD3030C8B4221D312E003460B43A1"
":100A20007FD4002243088B4274D303098B425FD3E7"
":100A3000030A8B4244D3030B8B4228D3030C8B4213"
":100A40000DD3FF22090212BA030C8B4202D31212F9"
":100A5000090265D0030B8B4219D300E0090AC30BCE"
":100A60008B4201D3CB03C01A5241830B8B4201D37B"
":100A70008B03C01A5241430B8B4201D34B03C01A64"
":100A80005241030B8B4201D30B03C01A5241C30ADC"
":100A90008B4201D3CB02C01A5241830A8B4201D34D"
":100AA0008B02C01A5241430A8B4201D34B02C01A37"
":100AB0005241030A8B4201D30B02C01A5241CDD2DC"
":100AC000C3098B4201D3CB01C01A524183098B4227"
":100AD00001D38B01C01A524143098B4201D34B0110"
":100AE000C01A524103098B4201D30B01C01A524173"
":100AF000C3088B4201D3CB00C01A524183088B42FA"
":100B000001D38B00C01A524143088B4201D34B00E2"
":100B1000C01A5241411A00D2014652411046704754"
":100B20005DE0CA0F00D04942031000D34042534059"
":100B300000229C4603098B422DD3030A8B4212D319"
":100B4000FC22890112BA030A8B420CD3890192114B"
":100B50008B4208D3890192118B4204D389013AD088"
":100B6000921100E08909C3098B4201D3CB01C01A5D"
":100B7000524183098B4201D38B01C01A5241430970"
":100B80008B4201D34B01C01A524103098B4201D35E"
":100B90000B01C01A5241C3088B4201D3CB00C01ACB"
":100BA000524183088B4201D38B00C01A5241D9D2E3"
":100BB00043088B4201D34B00C01A5241411A00D264"
":100BC0000146634652415B10104601D34042002B60"
":100BD00000D54942704763465B1000D3404201B5DF"
":100BE0000020C046C04602BD70B5064C7C44064D90"
":100BF0007D4403E0206800198047241DAC42F9D1F0"
":100C000070BD00005828000058280000014600026E"
":100C1000CA1504D00123DB071843002A12DBBE23C8"
":100C20009A1A0AD40146D1401346203B01D4D84039"
":100C3000704720239A1A90407047FF2248001206FE"
":100C4000904202D9002001467047C817C043C1171F"
":100C5000704770B5064600F03BF9056830460B302A"
":100C6000C408E400B44201D8002070BD68682A4678"
":100C7000002818D00168A14211D30B462146083143"
":100C80008B4208D3436801194B6003681B1B0B6040"
":100C90005160046001E041685160001D70BD024672"
":100CA00040680028E6D12146284600F019F90028BE"
":100CB000DCD170BD70B50446051F00F009F900686D"
":100CC000002C1AD0446801E020466468002C01D052"
":100CD000AC42F9D301680A18AA4204D12A68054631"
":100CE0008918016000E0456028684119A14205D1DA"
":100CF0006168696021684018286070BD6C6070BDD3"
":100D0000FFB504460D4681B0243000902168880666"
":100D100004D51022E0699143216000E00120A8423F"
":100D200001DD471B00E000270498A1697A1910181B"
":100D3000081AA0612078C00602D42046FFF7A2FB63"
":100D4000002608E003986268A168805D9047206AE9"
":100D5000401C761C206204988642F3DB2078C00693"
":100D60000AD52046FFF78EFB06E06268A1683020B6"
":100D70009047206A401C206238467F1E0028F4DC21"
":100D800007E000986268A168405D9047206A401CB7"
":100D9000206228466D1E0028F3DC2046FFF788FB02"
":100DA0002078000602D5022005B0F0BD0120FBE747"
":100DB00010B54369002B02D0C046C04601E0FFF7E2"
":100DC00088FB012010BD1278014624310A700022F0"
":100DD0004A700122ECE711680022D243E8E70000E4"
":100DE000084B70B50D467B4400F0D1F80446284608"
":100DF00000F0A6FA002802D00020C04370BD2046B3"
":100E000070BD0000011800003A2800D230382023BD"
":100E100002469A43412A01D310463738884201D30B"
":100E20000020C04370470000026851181378016029"
":100E30001846704710B5D16005497944516105499C"
":100E40007944116200211161114600F0B3F810BD20"
":100E5000EBFFFFFF2F0100004268002A08D0016865"
":100E60000B78491C002B03D0521E06C01846704751"
":100E70000121C160881E70474268002A0BD0C368F8"
":100E80000168002B07D183688B4204D0491E521C95"
":100E900006C0002070470020C043704710B500F026"
":100EA000F7FA00F0EFFA10BD01468008081A0209AF"
":100EB0001018020A1018020C1018C008820012182C"
":100EC0005200891A01E00A39401C0A29FBD27047F6"
":100ED0000048704794030020704770477047704780"
":100EE00038B504460A460020694600F0FBFC00289D"
":100EF00005D002462046009900F0F0FA012038BDE6"
":100F000010B5012000F0DCFC10BDF8B500F0DEFCEF"
":100F1000054600200C461020C0460646A819A042EF"
":100F20000DD932466946002000F0DCFC070001D1F3"
":100F300000F0C6FC0098A04200D00546C419FFF797"
":100F4000C7FFF61D07460560F008C0004619284691"
":100F500000F008F8B44204D031463868A21B00F013"
":100F6000BDFAF8BD0021016041608060704710202B"
":100F7000704710B5044600F0A9FA0068005DC0078C"
":100F8000C00F10BD01694A1C02610878704700B5A6"
":100F90008FB0029100210591054901937944039195"
":100FA000114604906846FFF7F3FA0FB000BD000049"
":100FB000E5FFFFFFF3B50C468FB000200C90012039"
":100FC00000260E9008460C300390626903980121B8"
":100FD000904705002ED0252D2DD0216A8847002866"
":100FE00018D06269039801219047216A8847002838"
":100FF000F7D16269411E0398904700E0761CA16911"
":101000000F988847216A88470028F7D1E1690F982F"
":101010008847DAE7A1690F988847A842074601D1B7"
":10102000761CD2E7E1690F9888477F1C02D10C98A3"
":10103000002877D071E16269039800273D46394660"
":1010400090472A280CD16269039801219047012515"
":1010500006E00A214F433F18303FEBD410200543F0"
":101060006269039801219047014630390A2903D269"
":10107000AF498F42DEDCECE7E90600D4AD4F6C28C7"
":101080000AD04C2810D0682824D06A282ED0742882"
":101090000CD07A280AD00DE06269039801219047AC"
":1010A0006C2823D004211CE02020054362690398AA"
":1010B00001219047A760652865604FD026DC58283D"
":1010C00039D01ADC452849D012DC252834D04128F3"
":1010D000B0D143E06269039801219047682802D0AB"
":1010E00008210D43E6E70120C002DEE70220DCE72D"
":1010F000462833D047289DD130E05B287BD061283B"
":101100002CD0632877D0642894D15EE06F284CD02F"
":1011100009DC662822D0672820D0692826D06E28CE"
":1011200088D12EE0F5E070284AD073286CD075285D"
":101130004BD07828CCD150E0A1690F98884725285A"
":10114000054600D16CE7E1690F9888476D1C00D116"
":101150006DE7E2E00A2248E00A224FE00120234640"
":101160006A460F99C043C046C046CBE0402128469E"
":10117000234608436060A80701D5002235E000221D"
":101180003CE02068011D21600068290501D506703A"
":101190001BE7290701D5068017E7A90703D5F11733"
":1011A0000660416011E706600FE7402128462346AC"
":1011B00008436060A80701D5082216E008221DE058"
":1011C0005D4928460840606016E0402128462346D5"
":1011D00008436060A807BFD5BCE740212846084304"
":1011E0006060A80708D52346102201200F99C0434C"
":1011F000C046C04686E007E01022234601200F9932"
":10120000C043FFF781FA7DE0002163280B4601917E"
":10121000009102910D9102D05B2807D03BE0E806D7"
":1012200001D40120A0600120009034E0E068012199"
":101230000D906269039890475E2807D101200190C4"
":10124000E06801210D9062690398904721690029A7"
":1012500006D10B4604AA8F00491C0829D351FADB9A"
":1012600000285AD02169002927D00298401C0290FA"
":1012700062690398012190475D28F1D10198002807"
":1012800008D0002004AB8100401C5A58D2430828E3"
":101290005A50F8DB04AB2069002820791DD04007A4"
":1012A00026D5029A00980D9B0092224602900120BA"
":1012B0000F99C043C046C04624E0C117C90E0918A3"
":1012C0004A114909930004AA9A184901411A13685E"
":1012D0000120884003431360CAE7400722461748AD"
":1012E0000F9902D5C046C0460CE0C046C04609E092"
":1012F0000298224600990D9B009002910F480F9989"
":10130000C046C04600280ADA401C06D10E980028C4"
":1013100003D00020C04311B0F0BD0C98FBE7E907F3"
":1013200002D10C99491C0C91361800200E904CE605"
":10133000CCCCCC0CFFFFFF7FF1F7FFFFFEFFFFFFE0"
":10134000C06880210840704710B543485421FFF71A"
":1013500011FB42485421FFF70DFB41485421FFF790"
":1013600009FB40483C493D4B404A01603E48036010"
":101370003B4810605A1C0A65411C19650121016532"
":101380003C48354A3AA1784400F0E0F9002804D1FD"
":10139000384878440C3800F08DFA38482F4A36A186"
":1013A000784400F0D3F9002804D1344878440C384C"
":1013B00000F080FA32482A4A2FA1784400F0C6F99A"
":1013C000002804D12E4878440C3800F073FA4023EA"
":1013D0002148DC000021224600F092F9002804D0C8"
":1013E000244878445C3800F065FA1C4822464023C3"
":1013F000002100F085F9002804D0204878445C38AA"
":1014000000F058FA164822461023002100F078F91F"
":10141000002804D01A4878445C3800F04BFA10BD1C"
":101420000F4870B5006D44080B48640000F002FAE4"
":101430000A4800F0FFF90A4800F0FCF909E0206DC5"
":10144000450820466D0000F0F5F92046FFF732FC14"
":101450002C46002CF3D170BD98020020EC02002035"
":1014600040030020E8000020EC000020F0000020F5"
":10147000720000009B1D000077000000881D000026"
":10148000761D000010B5002801D000F019F810BD3D"
":1014900010B5002102A000F0F3F9012010BD0000FA"
":1014A0005349475056464E3A20507572652076692A"
":1014B000727475616C20666E2063616C6C6564008B"
":1014C00001491820ABBEFEE72600020010B500F06F"
":1014D0002DFA001D10BD00BF2D1B000010B50346E6"
":1014E000406801E003464068002801D08842F9D3F3"
":1014F0001868C3188B4206D0CB1CD808C000001D4A"
":10150000411A521A0146081D0A60FFF7D3FB10BDAD"
":10151000F8B505460C46C8680521C9048843012171"
":1015200089050843E060800602D5204600F0D2FA23"
":101530007149E0680140022903D0204600F074FAA6"
":10154000BCE00521012249030140D20391420FD1A1"
":10155000C00306D56168E06A884200D8084660602A"
":1015600006E02069E0626060606900F065FDA061EE"
":10157000A1680022EEB200290EDAE06883050BD4E0"
":10158000C943A1600921226049030843E060606803"
":10159000411C61600670ACE0E0680121490308432A"
":1015A000E060002020602069002831D1606900F0EF"
":1015B00057FD012527462437ED02002816D0A089C3"
":1015C0008005800F08D0E069FFF743FB0028206109"
":1015D00002D0E068284318E001202761E061E0685C"
":1015E000032109028843012189020DE0E069FFF728"
":1015F00030FB00282061EFD0E0682843E0608105DF"
":10160000890F03D1FF2101310843E0602069606048"
":10161000E2683A4F2569D0051FD56168E06A8842C3"
":1016200000D80846411B05D02246284600F006FA9D"
":10163000002843D1E068010204D5E562002065601E"
":10164000A06053E0691CE1626160E169491E3843B2"
":10165000A160E06030462E70F8BD100201D53A401E"
":1016600009E06068411C61600670E06838430A2E3A"
":10167000E06006D00022E16A6068814203D90B462F"
":1016800002E00122F7E70346A7895B1B7F0504D42C"
":10169000E7699F4201DD002A1ED0814200D8014641"
":1016A0000F1A0020E5626560002BA06009DD22466C"
":1016B0001946284600F0C2F9002802D00020C04395"
":1016C000F8BD002F08D0A069E5626560C01BA0616D"
":1016D000E06810210843E060E068000209D5616815"
":1016E000A069E562491B40186560A0610120C04304"
":1016F000F8BD3046F8BD0000821000000000010077"
":1017000070B5C468A50713D0650211D4D51FF93D83"
":101710000AD0FF3D013D07D0FF3DFF3D023D07D10F"
":1017200001462431012305E0074E5D1EB54201D379"
":10173000012070BD0161C36141600F2109028C432A"
":101740001443C460002070BDFFFFFF00F7B51646CC"
":101750000C46104600F06EF82078611C61280AD013"
":10176000722802D0772839D102E00125002404E054"
":101770000225042401E02D4D082402220323012721"
":101780000878491C2B2806D0622807D02039C87F4A"
":10179000742807D008E01D431443F1E704200543F3"
":1017A0003C43EDE7102004430098214600F06CFC18"
":1017B000411C13D00021316171600121F5604902A3"
":1017C000F1617061200704D530460222002100F04B"
":1017D000B1F8306D384330653046FEBD0020FEBDA7"
":1017E000F8B50D460646124C206DC10704D04108DD"
":1017F00004D044086400F7E7224610E05420FFF7C5"
":1018000028FA070010D07908206D49000122114301"
":101810000843542120653846FFF7ACF83A4629467C"
":101820003046FFF793FFF8BD0020F8BD02800000AE"
":1018300098020020FEB50446466900690F4F0190EA"
":10184000E56800200090A80707D0204600F01CF9AA"
":10185000304600F0DBFB002801DA3846FEBD2805E3"
":1018600002D50198FFF726FA4C212046FFF782F8AF"
":10187000206D4008400020650098FEBDFFFFFFFF7F"
":1018800070B505460C460A2000E06D1C00F046F8D5"
":10189000002D06D028780028F7D102E0641C00F063"
":1018A0003DF8002C02D020780028F7D10A2000F063"
":1018B00035F870BD10B500F02FF9FFF7E3FD10BD4E"
":1018C00010B500F043F9FFF7DDFD10BD01226946B8"
":1018D000114B120382188A421A6001D811467047D0"
":1018E0001960704770B50C4C6D46012636032368AD"
":1018F000AD1B9A18AA420ED8AD1A9019EE0F7519A1"
":101900006D10AA18904200D91046C01D0B60C20885"
":10191000D200D01A226070BDF400002008B56946DC"
":1019200008700320ABBE08BD704700000048704738"
":1019300098030020F8B5044616460D464769007B1B"
":10194000800730D0384600F08BFB00282BD1324680"
":101950001026002A25D0012A02D0022A23D104E031"
":10196000204600F01BF945191BE0384600F064FBE7"
":10197000E16831430028E16004DA204600F054F8C1"
":101980000120F8BDC9030BD56268E16A914200D815"
":101990001146A26989182269891A814200DD084628"
":1019A0002D18002D01DA0220F8BDE16A6068E268B6"
":1019B000814206D29103E06203D5012149048A43A2"
":1019C0003243A669AE4211DCE16A814201D90B467D"
":1019D00000E003469F192369FF1AAF4206DD8142EA"
":1019E00001D90F4600E007469F4206D1202002435E"
":1019F0000020A060A56220600DE0AD1BE669AE1B73"
":101A00008142A66000D90846C01A281A20605819D9"
":101A1000606020208243034802400020E26040349E"
":101A20002072F8BDBFCFD7FFC16880221143920357"
":101A30009143C1600021816001607047F7B5144691"
":101A40000E463348D5685769054209D03846A16922"
":101A500000F0BAFB002811DB2D48C0430540E560CB"
":101A60002B4632463846009900F0C2FB4200A1697D"
":101A70005208B21A89180028A16104D02046FFF745"
":101A8000D3FF0020C043FEBD70B504460569C06A9F"
":101A90006168884200D80846E1680522D204914373"
":101AA000E160C90314D5A84209D02246411B28464B"
":101AB000FFF7C4FF002802D00020C04370BDE562DC"
":101AC00000206560A060E068012109048843E060AF"
":101AD000002070BD10B50446C06820218843E06036"
":101AE000A16AA06988420ED02046FFF7CDFFE068CA"
":101AF00003210903884310210843E060A06AA06124"
":101B00002069E06260600349E0680840E06010BD61"
":101B100010000200BFBFFFFF10B5014602A0FFF793"
":101B2000AFFE012010BD00005349475254524544B6"
":101B30003A2052656469726563743A2063616E2766"
":101B400074206F70656E3A200000000010B5012807"
":101B500005D0002103A0FFF793FE012010BD09A1CD"
":101B6000F8E7000053494752544D454D3A204F7510"
":101B700074206F662068656170206D656D6F727985"
":101B8000000000003A2048656170206D656D6F723D"
":101B90007920636F727275707465640010B50146C8"
":101BA000C268900703D0900607D5886A0AE000F063"
":101BB00017F801210160881E10BD8B694868C018A4"
":101BC0000B69C01A40310B7A002B02D0497A401AB7"
":101BD00010BD1103FCD50028FADD401E10BD000029"
":101BE00000487047AC03002010B500F024FE00F060"
":101BF00021FEFEF7F3FA10BDF8B52548002101607B"
":101C000041608160C160234A11605068224E002803"
":101C100008D0B36AF06A01252D065B1900246041E3"
":101C2000B362F062002050603469601C2FD01B4802"
":101C3000002740687169401A05022D0A2420444398"
":101C4000B06822185068A8420ED8B3692D1AC71977"
":101C5000146A002B03D0D1699069984702E091691A"
":101C6000D0698847601CE9D1B178F078814206D10B"
":101C7000401CC0B2F070022801D10020F0700006B4"
":101C80000749800D0F500120064900050860F8BD86"
":101C90004011014000110140B80000200015014032"
":101CA000D400002000E200E010B500F071FE10BD8D"
":101CB00030B42148214A018CCBB20121012B17D12C"
":101CC000848C240714D1048D2406250F03D1858D1F"
":101CD0002D062D0F0FD0240F012C03D1858D2D063D"
":101CE0002D0F08D0032C03D1848D2406240F02D09D"
":101CF000012B07D014E0124B53600123114CDB037E"
":101D0000A36102E0838C1B070AD1038D1B061B0F06"
":101D1000042B05D1808D0006000F01D10A48816097"
":101D200091610A4800224260820591604168002961"
":101D3000FCD030BC70470000C00F00F00005004030"
":101D4000DFFF07C0006C00400006004000010040BB"
":101D50000C4841680A060C4904D5CA69002A01D01A"
":101D6000012106E0406840070AD58868002807D0AE"
":101D7000002106480068002802D0044A92681047F3"
":101D800070470000002300400021004004000020B4"
":101D900010B5044600BF00BF00BF00202056401C05"
":101DA00004D12C22064907A000F0BBFC00BF6069EB"
":101DB00000686168084201D0012010BD0020FCE7E6"
":101DC000E03000006F626A2D3E70696E20213D2078"
":101DD0002850696E4E616D65294E430070B504460A"
":101DE0000D46164618212046FEF7C4FD3246294608"
":101DF000204600F069FC204670BD016889680847EC"
":101E000008B50090083001F00FF808BD10B5083093"
":101E100001F072F810BD000010B5044605482060BE"
":101E20000020A060E06020616061034801F084F858"
":101E3000204610BDF8320000FB1D0000016800299B"
":101E400000D008474368002B04D00146826908315E"
":101E5000184610477047016000214160704700221A"
":101E6000426082610160704710B504460068002836"
":101E700004D101F01FF860600120206010BD10B592"
":101E800004460068002803D001F014F86168401A85"
":101E9000A16840187D21C900FEF7C0FD10BD70B5D6"
":101EA0000025056045600446856001F003F8A560E3"
":101EB0006060204670BD70B515461E460446FFF7AB"
":101EC000A5FFE661A56100F0F5FFA269E16982184E"
":101ED00000234B412046FFF793FF70BD10B5044629"
":101EE000C36882688169C069521843412046FFF780"
":101EF00087FF20462030FFF7A1FF10BD007B704711"
":101F000070B506460C480D460468002C12D0A06837"
":101F100000280CD02A463146FEF7BEFC002806D128"
":101F2000A068FEF797FCA84201D1204670BD646806"
":101F3000002CECD1002070BDA800002010B5044694"
":101F40004068002803D0FFF7D9FF012801D0002006"
":101F500010BD606810BD10B504464068002803D06D"
":101F6000FFF7CCFF002801D0002010BD60680028DA"
":101F7000FBD0001F10BD4068002800D00120704732"
":101F800010B54068002804D0FFF7B8FF002801D042"
":101F9000002010BD012010BD0068704710B5044638"
":101FA00000202060606008782F280FD14878002832"
":101FB0000CD04B1C00211A46236010782F2807D024"
":101FC000002807D0491C521C2260F6E7204610BDAD"
":101FD000501C20601846FFF793FF6060204610BD3C"
":101FE00010B50020FEF75AFF10BD000002486A46F7"
":101FF000C008C00070470000B703002030380A282E"
":1020000001D201207047002070470000032801DA48"
":102010000020704781000748002209184039486BAA"
":102020004A63002802D00168496808470020C0437D"
":102030007047000040010020032801DA00207047AB"
":102040000649800040184038406B002802D00168E3"
":10205000896908470020C043704700004001002004"
":10206000032801DA012070470649800040184038F3"
":10207000406B002802D00168C96808470020C043AF"
":102080007047000040010020F0B50E4683B00446C2"
":102090004649FEF771FC464D002815D045492046BB"
":1020A000FEF76AFC00281AD043492046FEF764FC7C"
":1020B00000281FD0414F0025A8003858002824D000"
":1020C0006D1C102DF8D36CE02868002804D10B2279"
":1020D00009213B4800F0D4FB002003B0F0BD286884"
":1020E000002804D10B220921354800F0C9FB01204A"
":1020F00003B0F0BD2868002804D10B220921304824"
":1021000000F0BEFB022003B0F0BD102D49D22078B4"
":102110003A2811D021466846FFF740FF6846FFF78E"
":102120002AFF00283DD06846FFF72AFF00286846AE"
":1021300009D0FFF710FF2DE06A4622A12046FEF7E6"
":10214000C3FA009826E0FFF7F9FE002829D0B1076E"
":1021500001D5022408E0710701D5012404E031070C"
":1021600001D5092400E000243107890F02D00121A4"
":1021700049020C43710702D5012189020C4326460E"
":1021800004466846FFF708FF014620683246836828"
":1021900020469847002804D0A9007850E81C03B0D6"
":1021A000F0BD0020C04303B0F0BD000025310000A9"
":1021B000080000202C3100003431000040010020D4"
":1021C000100000203A257000032801DA0020704733"
":1021D000064A800080184038406B002803D002680F"
":1021E0001369002218470020C043704740010020B7"
":1021F00070B514460E46032814DA12480068002809"
":1022000004D10B220921104800F03AFB0025002CD4"
":1022100006D9715D0C4800F0A3FB6D1CA542F8D3F4"
":1022200020460AE00949800040184038406B0028E9"
":1022300005D001680B6831469847201A70BD002010"
":10224000C04370BD080000201000002040010020A5"
":1022500010B405494968054B9C6ADB6A2143436019"
":10226000016010BC0020704700150140B80000203C"
":1022700070B4144DAC68002C12D0002A13D0002882"
":1022800011D02D780023002D07DD24265E43A65DA6"
":10229000002E0BD05B1CAB42F7DB70BC04207047F8"
":1022A00070BC0820704770BC0720704724250126A9"
":1022B0005D4366552C196170A261036070BC0020FB"
":1022C00070470000B8000020FFB581B01D461646DB"
":1022D0000F4698077DD1002D7BD04A480024007915"
":1022E000002819D00120484940040860474940109F"
":1022F00088604749801C88604649012048602F203B"
":10230000FDF748FF4349012088603E4844612F2083"
":10231000FDF740FF3B4804713A490A9888610F7005"
":1023200028468D60002F13D0014624391038FA0753"
":1023300003D024310C70243004707A0808D0242390"
":102340005C541C54483148300C700470521EF6D155"
":102350002420474378192B4D032169702946C86012"
":10236000014604701831447086704160324618236B"
":102370005A430472531844728672C36004744474DE"
":10238000D118867441610020C0432946086108467F"
":102390008470C4700124204923050B601F48026823"
":1023A000C026120A1202324302601D4A13601D4EFB"
":1023B0000198B0601C4B1868FF273F02B843032701"
":1023C000BF033843186028460079002814D103E081"
":1023D000FFE7072005B0F0BD01200C4B000458605A"
":1023E0000B4B801C586000040860106009480460B2"
":1023F0002F20FDF7CFFE2C7170686861002005B0BA"
":10240000F0BD0000B800002080E100E04013014072"
":10241000001301400010014080E200E014E400E0FD"
":1024200000E100E00015014010E400E0F0B4354B9D"
":102430009D68002D0CD01C78A04201D2052902D243"
":10244000F0BC07207047242444432E5D012E02D0A7"
":10245000F0BC0820704764196478012C16D000265F"
":10246000294D6C68E405E40D20D0103C64B2002CCA"
":102470000EDA27073F0F083FBF08BF007D19ED693F"
":10248000A407E40EE5402C06A40F0BE00E46E7E798"
":10249000A5081E4FAD00ED192D68A407E40EE54018"
":1024A0002C06A40F012C26D0032C26D002248C4607"
":1024B000DB68E100CC186378A7781D465B1C9F425F"
":1024C00000D1002327789F4219D0182167684D4317"
":1024D000791914D001250D7048600D484068886056"
":1024E0000E6160464A61C8600A4963702805086049"
":1024F000F0BC002070470024D9E70124D7E7F0BCE6"
":1025000004207047B800002000ED00E000E400E087"
":102510000015014000E200E02D4A9168002909D031"
":102520001378984201D30720704724234343C95CA2"
":10253000012901D008207047F0B4264B59680424C3"
":10254000C905C90D00291ED0103949B200290CDA7D"
":102550000D072D0F083DAD08AD00EB18DB698907AD"
":10256000C90ECB401906890F09E08B081A4D9B0054"
":102570005B191B688907C90ECB401906890F012911"
":102580001FD003291FD00221D268C9008A185178B0"
":1025900095780B46491C8D4200D100211678002504"
":1025A0008E4212D0182756687B43F3180DD00224B0"
":1025B0001C70586051700949E00408602846F0BC5E"
":1025C00070470021E0E70121DEE72046F0BC7047BC"
":1025D000B800002000ED00E000E400E000E200E0D0"
":1025E000002801D000F0A2F8FEE710B58A68002AA2"
":1025F00002DCFEF78DFF10BD521E8A604A68C0B231"
":10260000531C4B60107010BD70B50446002020565E"
":102610000D46401C04D12A220A490BA000F081F883"
":102620000F48002D08D0012D05D10022A25601210E"
":1026300092001018016070BD0021625692001018BF"
":10264000016070BD7C3200006F626A2D3E70696E61"
":1026500020213D202850696E4E616D65294E430052"
":102660000007005001704A1C0AD001228A40054927"
":102670004260C160091D0161091D4161091D816040"
":10268000704700000805005070B50D46044600264E"
":10269000FFF7E8FF6D1C12D0A057401C04D1242284"
":1026A0000749084800F03DF8216960680860012189"
":1026B0002046FFF7A9FF3146204600F02BF870BDF9"
":1026C000C4310000AC310000F8B504460E460027C6"
":1026D0001546FFF7C7FF761C16D0E057401C04D103"
":1026E00024220A490A4800F01CF86068002D01D035"
":1026F000E16800E02169086001212046FFF784FFBE"
":102700003946204600F006F8F8BD0000C43100004C"
":10271000AC31000010B502460020105600F08CF8D5"
":1027200010BD10B500F002F810BD000098B01221E5"
":102730006846FFF7A9FF132106A8FFF7A5FF12219E"
":102740000CA8FFF7A1FF132112A8FFF79DFF694610"
":1027500000200856401C04D1242234493448FFF795"
":10276000E0FF039901980860694618200856401C4C"
":1027700004D124222D492E48FFF7D3FF0A99079848"
":10278000086008A910200856401C04D124222749BB"
":102790002748FFF7C6FF10990D98086010A9082078"
":1027A0000856401C04D1242220492148FFF7B9FFD4"
":1027B000159913980860962000F016FC69460020D1"
":1027C0000856401C04D1242218491948FFF7A9FFD4"
":1027D000049901980860694618200856401C04D1E5"
":1027E000242212491248FFF79CFF099907980860B4"
":1027F00008A910200856401C04D124220B490C487B"
":10280000FFF78FFF0F990D98086010A90820085650"
":10281000401C04D1242205490548FFF782FF169980"
":1028200013980860962000F0DFFB90E75431000019"
":102830003C3100007047704770B504460D46401C9F"
":1028400004D11A22074908A0FFF76BFF0B48A1002B"
":10285000081801680C22914301600168AA00114325"
":10286000016070BD1C32000070696E20213D20287F"
":1028700050696E4E616D65294E430000000700509F"
":10288000F8B50446324820603248154643690A4686"
":1028900001210E4696403343436143690E023343A0"
":1028A00043614369A9408B4343614169B300994344"
":1028B00041610523216808201B02C918886020682F"
":1028C000C018C26021680A20C91808612068C018B1"
":1028D00045614B21C901204E0120C700F7598F42A5"
":1028E00007D9C000801940382168C06BC9184862F8"
":1028F00007E0401C1128F0DB012021680007C918FF"
":102900004862152621680020B6018919C862266828"
":102910000421F3181960216801268E6021680E6079"
":102920002168FF31013188606060501C03D00321B1"
":102930001046FFF781FF681C03D003212846FFF7EC"
":102940007BFF06484660626821680261C160F8BD8D"
":102950000020004000050050180000200400002066"
":10296000052302681B02C9B2D218D1610068FF308A"
":1029700001300022C1690129FCD1C2617047000009"
":1029800002490120C86320BF70470000400000409A"
":10299000F0B5002087B0C0430290FD484169019125"
":1029A0008278C4780369A24211D0521CD2B28270DC"
":1029B000022A01D1002282701206F64C920DA25812"
":1029C000009251180902090A4161012101E0002128"
":1029D0000091EF48069304914078411EC9B20391DB"
":1029E000002876D00398C100E948C2688F183E7865"
":1029F0007978B1426ED0182070437968761C081837"
":102A0000B978F6B2B14200D100260178022902D08D"
":102A100003296ED15FE0406824210246DC4B4A4323"
":102A2000996852180592127D002A62D01D69AC4641"
":102A30002C466A1C49D0844207D0254624225443A0"
":102A40006218146A621CF6D13FE0601C3DD0A542BA"
":102A500028D1604624225043CD4B4018006A1861AB"
":102A6000401C1FD11846007900281BD00120CA49FC"
":102A700040040860C94940108860C949801C8860CA"
":102A8000C849012048602F20FDF784FBC54901207B"
":102A90008860BF49002048612F20FDF77BFBBC49BF"
":102AA0000020087124204443B948242381685D43F1"
":102AB00060184268006A6B181862431C05D0242312"
":102AC00058434018416889184160059900200875ED"
":102AD0000FE019E011E0AE4B1869411C09D09A686B"
":102AE00000212424604380180175006A441CF8D139"
":102AF00018617878B04200D07DE70399481EC0B2D3"
":102B00000390002900D06DE7A14801690698814231"
":102B100001D0012000E0002003900498002829D073"
":102B200001980024009A8446491C21D09848866860"
":102B3000974924200B69584380194568954202D96A"
":102B4000A91A416014E0521B2C1900254560057537"
":102B5000056A0D610169002908D067463F193F02E7"
":102B60003F0A8760C1600299016202936D1CDFD148"
":102B700001200390029886490090086906904978E0"
":102B80004A1ED2B20192002971D081498B684A69EC"
":102B90000492C96805910199CA000599551881E008"
":102BA0000099491C06D0009A24215143C9180C6A87"
":102BB00000941EE0297818224A436C68491CC9B267"
":102BC000A4182970AA78914201D100212970626865"
":102BD000242151432678C918012E67D10E7D002E7D"
":102BE00064D1A6688E60E668CE6026690E6164696D"
":102BF000CC618C68049E6C4FA61B3602360ABE421E"
":102C000003D2CC6834194C600AE0049E341B2402C1"
":102C1000CE68240AA64201D9341B00E000244C608F"
":102C200000248C60CC6001240C75A41E0C6224214D"
":102C30005143C9188C46411C14D061464C6824216C"
":102C40004143C91849688C420ED824214143C91810"
":102C50004968091B24244443E41861606146086202"
":102C600010461FE010461DE00146029003E02AE0F6"
":102C70000291316AE41B4E1C0BD024264E43F618F9"
":102C80007768A742F4D324274F43FF187F683F1B80"
":102C90007760664674606446216202992424614329"
":102CA000C9180A620099491C00D079E729786A7826"
":102CB0009142FAD1019A511EC9B20191002A00D065"
":102CC00069E733490861324C06992069884202D18C"
":102CD000039900293DD0411C3DD02D492422504369"
":102CE0008A6880184668314844684F69E01B0502CD"
":102CF0002D0A0879ED1C002814D101202749000471"
":102D000048602749801C4860294900040860294917"
":102D100008602449012008602F20FDF73BFA1C4978"
":102D200001200871B54200D23546E8190002224957"
":102D3000000A08601D494968001B091B0902090AAD"
":102D40000002C91C000A814203D901201B4940042A"
":102D5000086007B0F0BD20790028FAD001200E49A4"
":102D6000400408600D49401088600D49801C88604F"
":102D70000C4E012575602F20FDF70CFAB56000257B"
":102D80002F206561FDF706FA257107B0F0BD000040"
":102D9000B8000020D400002080E100E04013014092"
":102DA0000013014000100140FFFF7F0000150140AB"
":102DB00080E200E000E100E04015014000E200E0B8"
":102DC00010B503490020487000F054F810BD000011"
":102DD000A000002004484178002904D010B54068C4"
":102DE000FFF79AFB10BD7047A0000020044841780F"
":102DF000002904D010B54068FFF78EFB10BD704766"
":102E0000A000002038B5064C2078002807D1054BDB"
":102E1000022201210090FFF757FA0120207038BDEF"
":102E2000A000002080010020F8B50746069872B681"
":102E300000217B603A60B8600D480468002C0FD018"
":102E4000256866681846551BB04103D42146E468DE"
":102E5000002CF5D1002903D0CF60FC6062B6F8BD2C"
":102E6000034819460760104600F070F8F5E70000C7"
":102E7000AC00002010B5FFF7ADFF0D4C2068002816"
":102E80000ED000F017F821680A68101A00280ADC32"
":102E9000C86820606268002AF0D088689047EDE733"
":102EA000FFF7A4FF10BD1046496800F04FF810BDB1"
":102EB000AC00002010B50D4C84B02078002807D15C"
":102EC0000B4B022201210090FFF7FEF90120207038"
":102ED00002A8FFF7BDF9074A002303990298FDF7FE"
":102EE00029FA4904C00B084304B010BDA00000201B"
":102EF0008001002040420F0010B572B60D4A1168E3"
":102F000081420BD1C1681160002904D0086849686A"
":102F100000F01CF80CE0FFF769FF09E0002907D07A"
":102F2000CA68824202D1C068C86001E01100F7D1CE"
":102F300062B610BDAC00002010B50446FFF762FF7A"
":102F40000148446010BD0000AC000020F0B513B48F"
":102F5000204C05462078012684B0002806D11E4B5F"
":102F6000022201210090FFF7AFF926706068401C33"
":102F700006D11A4A00211A48FFF77AF9002826D10B"
":102F80006078002823D102A8FFF762F902986A0C42"
":102F9000070205983F0AC1031143E803114A0023C1"
":102FA000FDF7E0F9401C0002000AB84201D3C11B42"
":102FB00003E00121381A0906091A052900D2052162"
":102FC00000226068FFF732FA002800D1667007B06F"
":102FD000F0BD0000A000002080010020C12D0000F5"
":102FE000A400002040420F0070B57D21C900484375"
":102FF0000446FFF75FFF0546FFF75CFF401BA0425A"
":10300000FAD370BD10B500290AD00878002807D07F"
":1030100005487844FDF7B0FC002801D0002010BD21"
":103020000248784410BD0000260300001E03000083"
":1030300070B5420064414B005C41120E39D01B0E4A"
":1030400038D0FF2A3CD0FF2B3AD040024902400A38"
":10305000490A060045184E43000A090AD218484397"
":10306000ED017F3A0104731A4019190C4318990FA6"
":1030700004D001215B0849075B1A521CD80904D30C"
":10308000401CF50301D19D0607D0FF2A08D2D505C3"
":1030900006D0E4072043401970BD0125A843F4E79A"
":1030A000002A01DCE00770BD2402FF202043C00598"
":1030B00070BD1B0EFF2A03D0FF2B01D0E00770BDAF"
":1030C000FF2645003606B54206D84D00B54203D866"
":1030D000D218FF2A00D0E7E7004870BD0000C07F8B"
":1030E0006D6265642F5441524745545F4E524635D8"
":1030F000313832322F5441524745545F4E4F52447B"
":1031000049432F5441524745545F4D43555F4E52FA"
":103110004635313832322F6770696F5F6F626A658A"
":1031200063742E68002F737464696E002F73746467"
":103130006F7574002F737464657272006F626A2D0C"
":103140003E70696E20213D202850696E4E616D658C"
":10315000294E4300633A2F776F726B2F6D6265645F"
":103160002F6275696C645C6D6265645C54415247A2"
":1031700045545F4E524635313832325C54415247E5"
":1031800045545F4E4F524449435C54415247455465"
":103190005F4D43555F4E524635313832322F67709E"
":1031A000696F5F6F626A6563742E68006F626A2D73"
":1031B0003E70696E20213D202850696E4E616D651C"
":1031C000294E4300633A2F776F726B2F6D626564EF"
":1031D0002F6275696C645C6D6265645C5441524732"
":1031E00045545F4E524635313832325C5441524775"
":1031F00045545F4E4F524449435C544152474554F5"
":103200005F4D43555F4E524635313832322F67702D"
":10321000696F5F6F626A6563742E6800433A5C771A"
":103220006F726B5C6D6265645C6769746875622D52"
":103230006E65775C6C69627261726965735C6D6200"
":1032400065645C746172676574735C68616C5C541E"
":1032500041524745545F4E4F524449435C5441529A"
":103260004745545F4D43555F4E52463531383232F3"
":103270005C70696E6D61702E63000000433A5C778C"
":103280006F726B5C6D6265645C6769746875622DF2"
":103290006E65775C6C69627261726965735C6D62A0"
":1032A00065645C746172676574735C68616C5C54BE"
":1032B00041524745545F4E4F524449435C5441523A"
":1032C0004745545F4D43555F4E5246353138323293"
":1032D0005C6770696F5F6170692E630004000008AD"
":1032E00000000000000000020001000010000000CB"
":1032F00000000000000000000000000000000000CE"
":10330000E11F0000000000000000000000000000BD"
":1033100000000000DD1E00004C3400000000002012"
":10332000F80000000401000044350000F80000200F"
":10333000B80200002001000010010000430000005E"
":10334000F8FFFFFF004040404040404040404141C6"
":10335000414141404040404040404040404040406A"
":103360004040404040050202020202020202020204"
":103370000202020202202020202020202020200201"
":103380000202020202029090909090901010101091"
":10339000101010101010101010101010101010102D"
":1033A00002020202020288888888888808080808C1"
":1033B000080808080808080808080808080808088D"
":1033C00002020202400000000000000000000000B5"
":1033D00000000000000000000000000000000000ED"
":1033E00000000000000000000000000000000000DD"
":1033F00000000000000000000000000000000000CD"
":1034000000000000000000000000000000000000BC"
":1034100000000000000000000000000000000000AC"
":10342000000000000000000000000000000000009C"
":10343000000000000000000000000000000000008C"
":1034400000000000000000001FCEFFFF0024F40079"
":10345000000000000000000000000000000000006C"
":1034600000000000B004000000F00400600900004B"
":1034700000D00900C012000000B013008025000039"
":10348000005027004038000000003B00004B0000C7"
":1034900000A04E008070000000F07500127A00005D"
":1034A000000080000096000000509D0000E1000038"
":1034B00000F0EB00002C010000903A0100C2010076"
":1034C00000E0D7010084030000B0AF0390D00300F8"
":1034D000000000040008070000705F0700100E00E5"
":1034E000A4DFBE0E40420F000000001000000000EC"
":1034F000FFFFFFFF000000000000000000000000D0"
":1035000000000000000000000000000000000000BB"
":1035100000000000000000000000000000000000AB"
":10352000000000000000000000000000000000009B"
":10353000000000000000000000000000000000008B"
":043540000000000087"
":04000005000000C136"
":00000001FF";


uint8_t *hex_loc = (uint8_t *)hex_file;
uint8_t bin_out_buf[256] = {0};
    
int main()
{
    uint32_t address = 0, buf_written = 512;
    bin_out_buf[254] = 0xDE;
    bin_out_buf[255] = 0xAD;
    //printf("Size of hex file %d\n", sizeof(hex_file));
    //printf("Size of bin_buf %d\n", sizeof(bin_out_buf));
    while(1) {
        hex_parse_status_t status;
        do {
            status = parse_hex_blob(hex_loc, 512, bin_out_buf, sizeof(bin_out_buf), &address, &buf_written);
            if (HEX_PARSE_OK == status) {
                //print the decoded file contents here
                for(int i = 0; i < buf_written; i++) {
                    putc(bin_out_buf[i], stdout);
                }
                address = address;
                buf_written = buf_written;
                hex_loc += 512;
            }
            if (HEX_PARSE_UNALIGNED == status) {
                //try to program the data here
                address = address;
                buf_written = buf_written;
            }
            if (HEX_PARSE_CKSUM_FAIL == status) {
                // programming failure recorded to usere here
                address = address;
                buf_written = buf_written;
            }
            
        } while(HEX_PARSE_EOF != status);
        error("\n");
    }
}
